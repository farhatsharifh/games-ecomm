const { Product } = require('../models/product');

const mongoose = require('mongoose');

mongoose.connect('mongodb://localhost:27017/ecomm-store',
  {useNewUrlParser: true, useUnifiedTopology: true},
  () => {
      console.log("connected to mongodb...");
  },
  (err) => {
      console.log("Error message: ", err);
  }
);

var ProductModel = mongoose.model('Product', Product);

const data = [
  new ProductModel({
    title: "Spider Man",
    price: "$49.05",
    description: "Marvel\'s Spider-Man: Miles Morales Launch Edition - PlayStation 4",
    imagePath: "./assets/product/video-games/game-1.png",
    detail: "Miles morales discovers explosive powers that set him apart from his mentor, peter parker. Master his unique, bio-electric venom Blast attacks and covert camouflage power alongside spectacular web-slinging acrobatics, gadgets and skills.",
    category: "video-game",
    featured: true
  }),

  new ProductModel({
    title: "Minecraft",
    price: "$29.49",
    description: "Minecraft Starter Collection - PlayStation 4",
    imagePath: "./assets/product/video-games/game-2.png",
    detail: "Starter Pack Contents - Includes 700 Tokens, LittleBigPlanet Mash-Up, Greek Mythology Mash-Up, Skin Pack 1, City Texture Pack.",
    category: "video-game",
    featured: false
  }),

  new ProductModel({
    title: "NBA 2K21",
    price: "$59.99",
    description: "NBA 2K21 - PlayStation 4",
    imagePath: "./assets/product/video-games/game-3.png",
    detail: "NBA 2K21 is the latest release in the world-renowned, best-selling NBA 2K series. With exciting improvements upon its best-in-class gameplay, competitive and community online features, and deep, varied game modes, NBA 2K21 offers 1 of-a-kind immersion into all facets of NBA basketball and culture - where Everything is Game.",
    category: "video-game",
    featured: true
  }),

  new ProductModel({
    title: "Star Wars Jedi",
    price: "$36.99",
    description: "Star Wars Jedi: Fallen Order - Xbox One",
    imagePath: "./assets/product/video-games/game-4.png",
    detail: "Complete your training, develop new powerful Force abilities, and master the art of the iconic lightsaber. Iconic locations, weapons, gear, and enemies in addition to a roster of fresh characters, locations, creatures, droids and adversaries new to Star Wars.",
    category: "video-game",
    featured: true
  }),

  new ProductModel({
    title: "The Incredibles",
    price: "$39.99",
    description: "LEGO Disney Pixar's The Incredibles - Xbox One",
    imagePath: "./assets/product/video-games/game-5.png",
    detail: "Players must work together and combine the Parr family's iconic abilities and unique powers to build massive LEGO structures. Players can complete action packed side missions and defeat iconic super villains that control the city districts in an open hub world that provides an exciting free play experience.",
    category: "video-game",
    featured: false
  }),

  new ProductModel({
    title: "Arizona Cardinals Hat - Black",
    price: "$38.99",
    description: "Arizona Cardinals New Era Omaha Low Profile 59FIFTY Structured Hat - Black",
    imagePath: "./assets/product/fan-gear/gear-1.png",
    detail: "As a hardcore Arizona Cardinals fan, you love to get your hands on pieces of memorabilia which will show off your unbridled devotion to the team. That's where this Arizona Cardinals Omaha low profile 59FIFTY fitted hat from New Era can help you out. This awesome hat features stunning embroidered Arizona Cardinals graphics on the crown and back, so everyone will know your loyalty will never waver.",
    category: "fan-gear",
    featured: true
  }),

  new ProductModel({
    title: "Arizona Cardinals Hat - Red",
    price: "$38.99",
    description: "Arizona Cardinals New Era Omaha Low Profile 59FIFTY Structured Hat - Black",
    imagePath: "./assets/product/fan-gear/gear-2.png",
    detail: "As a hardcore Arizona Cardinals fan, you love to get your hands on pieces of memorabilia which will show off your unbridled devotion to the team. That's where this Arizona Cardinals Omaha low profile 59FIFTY fitted hat from New Era can help you out. This awesome hat features stunning embroidered Arizona Cardinals graphics on the crown and back, so everyone will know your loyalty will never waver.",
    category: "fan-gear",
    featured: true
  }),

  new ProductModel({
    title: "Arizona Cardinals Logo T-Shirt - Black",
    price: "$29.99",
    description: "Arizona Cardinals Nike Primary Logo T-Shirt - Black",
    imagePath: "./assets/product/fan-gear/gear-3.png",
    detail: "There's just something about the Arizona Cardinals and the game of football that keeps you coming back for more. Be ready for that unbeatable atmosphere this season by grabbing this Primary Logo T-shirt from Nike. Featuring your team's logo front and center, this tee will help you comfortably support your Arizona Cardinals each and every game.",
    category: "fan-gear",
    featured: false
  }),

  new ProductModel({
    title: "Arizona Cardinals Logo T-Shirt - Red",
    price: "$27.99",
    description: "Arizona Cardinals Fanatics Branded Team Lockup Logo T-Shirt - Red",
    imagePath: "./assets/product/fan-gear/gear-4.png",
    detail: "As a die-hard Arizona Cardinals fan, nothing beats heading to the stadium in your favorite game day gear. Add a spirited new option to showcase that enthusiasm with this Team Lockup T-shirt from Fanatics Branded. The electrifying graphics will put your fandom at the forefront of your outfit and are the perfect way to show that you're a Arizona Cardinals supporter for life.",
    category: "fan-gear",
    featured: false
  })
];

var productAdded =  0;
for (var i=0; i<data.length; i++){
  data[i].save(function(err, result) {
    productAdded++;
    if(productAdded === data.length) {
      exitSeeder();
    }
  });
}

function exitSeeder() {
  mongoose.disconnect();
}

